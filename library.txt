set1 = {A, B} 
set2 = {D, AS1}
set3 = {H}
set4 = {M}
   
def gao_rexford ( me, custs , peers , upstream ):   
    custs ->ingress me: (addTag mytagcust)
    peers ->ingress me: (addTag mytagpeers)
    me egress-> peers: ( if tag = mytagpeers then reject route)
    me egress-> peers: ( if tag = mytagpeers then reject route )
    me egress-> upstream: ( if tag = mytagup then reject route)
    upstream ->ingress me: (addTag mytagup)
    me egress-> upstream: ( if tag = mytag then reject route)
        
gao_rexford(set1, set2, set3, set4)  
                                
def test(param1, param2):
    param1 egress-> param2: (addTag sometag & setLP200)        
    
test(set1, set2)
test(set2, set1)
